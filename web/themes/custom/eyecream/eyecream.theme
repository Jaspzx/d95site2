<?php
/**
 * Preprocess function for node.html.twig.
 */
function eyecream_preprocess_node(&$variables) {
  $variables['current_user_is_owner'] = FALSE;
  //
  if ($variables['logged_in'] == TRUE && $variables['node']->getOwnerId() == $variables['user']->id()) {
    $variables['label']['#suffix'] = ' - [You are the author]';
    $variables['current_user_is_owner'] = TRUE;
  }

// Preprocess for OUTLET/GYM
  if ($variables['node']->getType() == 'outlet' || $variables['node']->getType() == 'gym') {
    $variables['#attached']['library'][] = 'eyecream/outlet';
  }
}

function eyecream_preprocess_field(&$variables) {
  if ($variables['element']['#field_name'] == 'field_outlet_capacity') {
    $variables['currentLoad'] = rand(0, 100);
  }
}

function eyecream_preprocess_paragraph(&$variables){
  $variables['#attached']['library'][] = 'eyecream/paragraph-deals.css';
}
